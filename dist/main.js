(()=>{"use strict";const e=({title:e,desc:t,notes:n,dueDate:d,priority:s,checkList:a,resolved:c})=>({title:e,desc:t,notes:n,dueDate:d,priority:s,checkList:a,resolved:c}),t=(t,n)=>({name:t,taskList:n,addTask:()=>{const t=e({title:"New Task",desc:"A blank task",notes:"blank notes",dueDate:"set this somehow",priority:"none",checkList:null,resolved:!1});n.push(t)}});let n;const d="Odin-Todo",s=()=>{localStorage.setItem(d,JSON.stringify(n))},a=()=>{const e=t("New Project",[]);e.addTask(),n.push(e),s()},c=(e,t)=>{e.innerHTML="";const n=document.createElement("div");n.setAttribute("id","project-info");const d=document.createElement("button");d.innerText="Back to Home",d.classList.add("back-button"),n.appendChild(d),d.addEventListener("click",(()=>{r(e),s()}));const a=document.createElement("h1");a.innerText=t.name,n.appendChild(a);const o=document.createElement("button");o.innerText="Rename Project",o.classList.add("project-rename"),n.appendChild(o),e.appendChild(n);const l=document.createElement("button");l.innerText="Create New Task",l.classList.add("create-button"),e.appendChild(l),l.addEventListener("click",(()=>{t.addTask(),s(),c(e,t)}));const p=document.createElement("ul");p.setAttribute("id","task-list"),e.appendChild(p),t.taskList.forEach((e=>{const t=document.createElement("li");t.appendChild(i(e,t)),p.appendChild(t)})),e.appendChild(p)},i=(e,t)=>{const n=document.createElement("div");n.classList.add("mini-task");const d=document.createElement("div");d.classList.add("mini-task-title"),d.innerText=e.title,n.append(d);const s=document.createElement("div");s.classList.add("mini-task-date"),s.innerText=e.dueDate,n.append(s);const a=document.createElement("button");return a.classList.add("mini-task-expand"),a.innerText=">",n.append(a),a.addEventListener("click",(()=>{t.innerHTML="",t.appendChild(o(e,t))})),n.classList.add(l(e.priority)),n},o=(e,t)=>{const n=document.createElement("div");n.classList.add("full-task");const d=document.createElement("div");d.classList.add("full-task-title"),d.innerText=e.title,n.append(d);const s=document.createElement("button");return s.classList.add("mini-task-expand"),s.innerText="^",n.append(s),s.addEventListener("click",(()=>{t.innerHTML="",t.appendChild(i(e,t))})),n},l=e=>{switch(e){case"high":return"high-priority";case"medium":return"medium-priority";case"low":return"low-priority";default:return"no-priority"}},r=e=>{e.innerHTML="";const t=document.createElement("h1");t.innerText="TODO Lists",e.appendChild(t);const i=document.createElement("button");i.innerText="Create New Project",i.classList.add("create-button"),e.appendChild(i),i.addEventListener("click",(()=>{a(),r(e)}));const o=document.createElement("ul");o.setAttribute("id","project-list"),e.appendChild(o),n.forEach((t=>{const d=document.createElement("li");d.classList.add("project");const a=document.createElement("div");a.classList.add("project-title"),a.innerText=t.name,d.append(a);const i=document.createElement("div");i.classList.add("project-counter"),i.innerText=`${t.taskList.length} todos`,d.append(i);const l=document.createElement("button");l.classList.add("project-view"),l.innerText="View",d.append(l),l.addEventListener("click",(()=>{c(e,t)}));const p=document.createElement("button");p.classList.add("project-delete"),p.innerText="Delete",d.append(p),p.addEventListener("click",(()=>{(e=>{n=n.filter((t=>t!==e)),s()})(t),r(e)})),o.appendChild(d)})),e.appendChild(o);const l=document.createElement("button");l.classList.add("home-reset"),l.innerText="Reset all",e.append(l),l.addEventListener("click",(()=>{n=[],localStorage.setItem(d,JSON.stringify(null)),a(),r(e)}))};console.log("webpack compiled to main.js");const p=document.querySelector("#content");(()=>{const s=JSON.parse(localStorage.getItem(d));s&&0!==s.length?n=s.map((n=>(n=>{let d=n.taskList.map((t=>(t=>e(t))(t)));return t(n.name,d)})(n))):(console.log("initialize project list"),n=[],a()),console.table(n)})(),r(p),console.log("end of index")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFza09iak1vZHVsZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdE9iak1vZHVsZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc3RvcmFnZU1vZHVsZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdFBhZ2VNb2R1bGUuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2hvbWVQYWdlTW9kdWxlLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ0YXNrRmFjdG9yeSIsInRpdGxlIiwiZGVzYyIsIm5vdGVzIiwiZHVlRGF0ZSIsInByaW9yaXR5IiwiY2hlY2tMaXN0IiwicmVzb2x2ZWQiLCJwcm9qZWN0RmFjdG9yeSIsIm5hbWUiLCJ0YXNrTGlzdCIsImFkZFRhc2siLCJuZXdUYXNrIiwicHVzaCIsInByb2plY3RMaXN0Iiwic3RvcmFnZU5hbWUiLCJzdG9yZVByb2plY3RMaXN0IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjcmVhdGVOZXdQcm9qZWN0IiwicCIsImxvYWRQcm9qZWN0IiwiY29udGVudCIsInByb2plY3QiLCJpbm5lckhUTUwiLCJ0b3BDb250YWluZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJiYWNrZXIiLCJpbm5lclRleHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2FkSG9tZSIsImgxIiwicHJvamVjdE5hbWVyIiwiY3JlYXRlciIsInVMaXN0IiwiZm9yRWFjaCIsInQiLCJvdXRlckl0ZW0iLCJjcmVhdGVNaW5pVGFza1BhbmUiLCJ0YXNrIiwiZWxlbSIsImlubmVySXRlbSIsInRUaXRsZSIsImFwcGVuZCIsInREYXRlIiwiZXhwYW5kZXIiLCJjcmVhdGVGdWxsVGFza1BhbmUiLCJwcmlvcml0eUNvbG9yIiwic2hyaW5rZXIiLCJpdGVtIiwicFRpdGxlIiwicFRhc2tzIiwibGVuZ3RoIiwicFZpZXciLCJwRGVsZXRlIiwiZmlsdGVyIiwiZGVsZXRlUHJvamVjdCIsInJlc2V0ZXIiLCJjb25zb2xlIiwibG9nIiwicXVlcnlTZWxlY3RvciIsImxvY2FsT2JqIiwicGFyc2UiLCJnZXRJdGVtIiwibWFwIiwib2JqIiwidGFza0Zyb21PYmplY3QiLCJwcm9qZWN0RnJvbU9iamVjdCIsInRhYmxlIiwibG9hZFByb2plY3RMaXN0Il0sIm1hcHBpbmdzIjoibUJBR0EsTUFBTUEsRUFBYyxFQUFFQyxRQUNsQkMsT0FDQUMsUUFDQUMsVUFDQUMsV0FDQUMsWUFDQUMsZUFTTyxDQUFDTixRQUFPQyxPQUFNQyxRQUFPQyxVQUFTQyxXQUFVQyxZQUFXQyxhQ2Z4REMsRUFBaUIsQ0FBQ0MsRUFBTUMsS0FlbkIsQ0FBQ0QsT0FBTUMsV0FBVUMsUUFiUixLQUNaLE1BQU1DLEVBQVVaLEVBQVksQ0FDeEJDLE1BQU8sV0FDUEMsS0FBTSxlQUNOQyxNQUFPLGNBQ1BDLFFBQVMsbUJBQ1RDLFNBQVUsT0FDVkMsVUFBVyxLQUNYQyxVQUFVLElBRWRHLEVBQVNHLEtBQUtELE1DWnRCLElBQUlFLEVBQ0osTUFBTUMsRUFBYyxZQXNCZEMsRUFBbUIsS0FDckJDLGFBQWFDLFFBQVFILEVBQWFJLEtBQUtDLFVBQVVOLEtBZ0IvQ08sRUFBbUIsS0FDckIsTUFBTUMsRUFBSWQsRUFBZSxjQUFlLElBQ3hDYyxFQUFFWCxVQUNGRyxFQUFZRCxLQUFLUyxHQUNqQk4sS0NmRU8sRUFBYyxDQUFDQyxFQUFTQyxLQUM1QkQsRUFBUUUsVUFBWSxHQUdwQixNQUFNQyxFQUFlQyxTQUFTQyxjQUFjLE9BQzVDRixFQUFhRyxhQUFhLEtBQU0sZ0JBR2hDLE1BQU1DLEVBQVNILFNBQVNDLGNBQWMsVUFDdENFLEVBQU9DLFVBQVksZUFDbkJELEVBQU9FLFVBQVVDLElBQUksZUFDckJQLEVBQWFRLFlBQVlK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QUFjLEdBQ2RHLGFBQWFDLFFBQVFILEVBQWFJLEtBQUtDLFVBQVUsT0UrRS9DQyxJQUNBZ0IsRUFBU2IsT0MzR2Z5QyxRQUFRQyxJQUFJLCtCQUVaLE1BQU0xQyxFQUFVSSxTQUFTdUMsY0FBYyxZSEZmLE1BRXBCLE1BQU1DLEVBQVdqRCxLQUFLa0QsTUFBTXBELGFBQWFxRCxRQUFRdkQsSUFJN0NxRCxHQUFnQyxJQUFwQkEsRUFBU1QsT0FPckI3QyxFQUFjc0QsRUFBU0csS0FBSXhCLEdERVQsQ0FBQ3lCLElBQ3ZCLElBQUk5RCxFQUFXOEQsRUFBSTlELFNBQVM2RCxLQUFJeEIsR0REYnlCLElBQ1J4RSxFQUFZd0UsR0NBZUMsQ0FBZTFCLEtBR3JELE9BRmN2QyxFQUFlZ0UsRUFBSS9ELEtBQU1DLElDSkFnRSxDQUFrQjNCLE1BTnJEa0IsUUFBUUMsSUFBSSwyQkFDWnBELEVBQWMsR0FDZE8sS0FNSjRDLFFBQVFVLE1BQU03RCxJR1ZsQjhELEdBRUF2QyxFQUFTYixHQUNUeUMsUUFBUUMsSUFBSSxpQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9jb25zdHJ1Y3RvciBhbmQgaGVscGVyIGZ1bmN0aW9ucyBmb3IgdGFzay90b2RvIG9iamVjdHNcbmltcG9ydCB7Zm9ybWF0fSBmcm9tICdkYXRlLWZucyc7XG5cbmNvbnN0IHRhc2tGYWN0b3J5ID0gKHt0aXRsZSxcbiAgICBkZXNjLFxuICAgIG5vdGVzLFxuICAgIGR1ZURhdGUsXG4gICAgcHJpb3JpdHksXG4gICAgY2hlY2tMaXN0LFxuICAgIHJlc29sdmVkfSkgPT57XG4gICAgLypjb25zdCB0aXRsZSA9ICdOZXcgVGFzayc7XG4gICAgY29uc3QgZGVzYyA9ICdBIGRlZmF1bHQgdGFzayB0ZW1wbGF0ZSc7XG4gICAgY29uc3Qgbm90ZXMgPSAnYmxhbmsgbm90ZXMnO1xuICAgIGNvbnN0IGR1ZURhdGUgPSAnc2V0IHRoaXMgc29tZWhvdyc7XG4gICAgY29uc3QgcHJpb3JpdHkgPSAwO1xuICAgIGNvbnN0IGNoZWNrbGlzdCA9IG51bGw7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSBmYWxzZTsqL1xuXG4gICAgcmV0dXJuIHt0aXRsZSwgZGVzYywgbm90ZXMsIGR1ZURhdGUsIHByaW9yaXR5LCBjaGVja0xpc3QsIHJlc29sdmVkfTtcbn1cblxuLy9jb252ZXJ0IGEgZ2VuZXJpYyBvYmplY3QgdG8gYSB0YXNrXG5jb25zdCB0YXNrRnJvbU9iamVjdCA9IG9iaiA9PntcbiAgICBsZXQgdGFzayA9IHRhc2tGYWN0b3J5KG9iaik7XG4gICAgcmV0dXJuIHRhc2s7XG59XG5cbmV4cG9ydCB7dGFza0ZhY3RvcnksIHRhc2tGcm9tT2JqZWN0fTsiLCJpbXBvcnQgeyB0YXNrRmFjdG9yeSwgdGFza0Zyb21PYmplY3QgfSBmcm9tIFwiLi90YXNrT2JqTW9kdWxlXCI7XG5cbi8vY29uc3RydWN0b3IgYW5kIGhlbHBlciBmdW5jdGlvbnMgZm9yIHByb2plY3Qgb2JqZWN0c1xuY29uc3QgcHJvamVjdEZhY3RvcnkgPSAobmFtZSwgdGFza0xpc3QpID0+e1xuXG4gICAgY29uc3QgYWRkVGFzayA9ICgpPT57XG4gICAgICAgIGNvbnN0IG5ld1Rhc2sgPSB0YXNrRmFjdG9yeSh7XG4gICAgICAgICAgICB0aXRsZTogJ05ldyBUYXNrJywgXG4gICAgICAgICAgICBkZXNjOiAnQSBibGFuayB0YXNrJywgXG4gICAgICAgICAgICBub3RlczogJ2JsYW5rIG5vdGVzJywgXG4gICAgICAgICAgICBkdWVEYXRlOiAnc2V0IHRoaXMgc29tZWhvdycsIFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdub25lJywgXG4gICAgICAgICAgICBjaGVja0xpc3Q6IG51bGwsIFxuICAgICAgICAgICAgcmVzb2x2ZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0YXNrTGlzdC5wdXNoKG5ld1Rhc2spO1xuICAgIH1cblxuICAgIHJldHVybiB7bmFtZSwgdGFza0xpc3QsIGFkZFRhc2t9O1xufVxuXG4vL2NvbnZlcnQgYSBnZW5lcmljIG9iamVjdCB0byBhIHByb2plY3RcbmNvbnN0IHByb2plY3RGcm9tT2JqZWN0ID0gKG9iaikgPT57XG4gICAgbGV0IHRhc2tMaXN0ID0gb2JqLnRhc2tMaXN0Lm1hcChlbGVtPT50YXNrRnJvbU9iamVjdChlbGVtKSk7XG4gICAgbGV0IHByb2plY3QgPSBwcm9qZWN0RmFjdG9yeShvYmoubmFtZSwgdGFza0xpc3QpO1xuXG4gICAgcmV0dXJuIHByb2plY3Q7XG59O1xuXG5leHBvcnQge3Byb2plY3RGYWN0b3J5LCBwcm9qZWN0RnJvbU9iamVjdH07IiwiaW1wb3J0IHtwcm9qZWN0RmFjdG9yeSwgcHJvamVjdEZyb21PYmplY3R9IGZyb20gXCIuL3Byb2plY3RPYmpNb2R1bGVcIjtcblxuLy9ob2xkIHRoZSBwcm9qZWN0IGxpc3QgYW5kIGhhbmRsZSBsb2NhbHN0b3JhZ2UgZnVuY3Rpb25zXG5sZXQgcHJvamVjdExpc3Q7XG5jb25zdCBzdG9yYWdlTmFtZSA9ICdPZGluLVRvZG8nO1xuXG4vL2xvYWQgdGhlIHByb2plY3QgbGlzdCBmcm9tIGxvY2FsIHN0b3JhZ2VcbmNvbnN0IGxvYWRQcm9qZWN0TGlzdCA9ICgpID0+e1xuICAgIC8vdHJ5IHRvIGxvYWQgZnJvbSBzdG9yYWdlXG4gICAgY29uc3QgbG9jYWxPYmogPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VOYW1lKSk7XG4gICAgLy9jb25zb2xlLnRhYmxlKGxvY2FsT2JqKTtcblxuICAgIC8vaWYgbm8gcmVzdWx0cyBmb3VuZCwgY3JlYXRlIGEgZGVmYXVsdCBvbmVcbiAgICBpZighbG9jYWxPYmogfHwgbG9jYWxPYmoubGVuZ3RoID09PSAwKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2luaXRpYWxpemUgcHJvamVjdCBsaXN0Jyk7XG4gICAgICAgIHByb2plY3RMaXN0ID0gW107XG4gICAgICAgIGNyZWF0ZU5ld1Byb2plY3QoKTtcbiAgICB9XG4gICAgLy9sb2FkIGV4aXN0aW5nIHByb2plY3QsIGNvbnZlcnQgZ2VuZXJpYyBvYmplY3RzIHRvIHByb2plY3RzL3Rhc2tzL2NoZWNrbGlzdHNcbiAgICBlbHNle1xuICAgICAgICBwcm9qZWN0TGlzdCA9IGxvY2FsT2JqLm1hcChlbGVtID0+IHByb2plY3RGcm9tT2JqZWN0KGVsZW0pKTtcbiAgICB9XG4gICAgY29uc29sZS50YWJsZShwcm9qZWN0TGlzdCk7XG59XG5cbi8vc3RvcmUgdGhlIHByb2plY3QgbGlzdCBpbiBsb2NhbCBzdG9yYWdlXG5jb25zdCBzdG9yZVByb2plY3RMaXN0ID0gKCkgPT57XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZU5hbWUsIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0KSk7XG4gICAgLy9jb25zb2xlLmxvZyhwcm9qZWN0TGlzdCk7XG59XG5cbi8vcmVzZXQgdGhlIGxvY2FsIHN0b3JhZ2VcbmNvbnN0IHJlc2V0U3RvcmFnZSA9ICgpID0+e1xuICAgIHByb2plY3RMaXN0ID0gW107XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZU5hbWUsIEpTT04uc3RyaW5naWZ5KG51bGwpKTtcbn1cblxuLy9sZXQgdGhlIHByb2plY3QgaGF2ZSBhY2Nlc3MgdG8gcHJvamVjdCBsaXN0XG5jb25zdCBnZXRQcm9qZWN0TGlzdCA9ICgpID0+e1xuICAgIHJldHVybiBwcm9qZWN0TGlzdDtcbn1cblxuLy9hZGQgYSBibGFuayBwcm9qZWN0IHRvIHRoZSBsaXN0XG5jb25zdCBjcmVhdGVOZXdQcm9qZWN0ID0gKCkgPT57XG4gICAgY29uc3QgcCA9IHByb2plY3RGYWN0b3J5KFwiTmV3IFByb2plY3RcIiwgW10pO1xuICAgIHAuYWRkVGFzaygpO1xuICAgIHByb2plY3RMaXN0LnB1c2gocCk7XG4gICAgc3RvcmVQcm9qZWN0TGlzdCgpO1xufVxuXG4vL2RlbGV0ZSBhIHByb2plY3QgZnJvbSB0aGUgbGlzdFxuY29uc3QgZGVsZXRlUHJvamVjdCA9IChwKSA9PntcbiAgICBwcm9qZWN0TGlzdCA9IHByb2plY3RMaXN0LmZpbHRlcigoZWxlbSk9PiBlbGVtICE9PSBwKTtcbiAgICBzdG9yZVByb2plY3RMaXN0KCk7XG59XG5cbmV4cG9ydCB7bG9hZFByb2plY3RMaXN0LCBzdG9yZVByb2plY3RMaXN0LCByZXNldFN0b3JhZ2UsIGdldFByb2plY3RMaXN0LCBjcmVhdGVOZXdQcm9qZWN0LCBkZWxldGVQcm9qZWN0fTtcbiIsImltcG9ydCB7IGxvYWRIb21lIH0gZnJvbSBcIi4vaG9tZVBhZ2VNb2R1bGVcIjtcbmltcG9ydCB7IHN0b3JlUHJvamVjdExpc3QgfSBmcm9tIFwiLi9zdG9yYWdlTW9kdWxlXCI7XG5cbi8vbW9kdWxlIGZvciBkaXNwbGF5aW5nIHRhc2tzIHdpdGhpbiBhIHByb2plY3RcblxuLy9zYW1wbGUgaHRtbCBzdHJ1Y3R1cmUgZm9yIHBhZ2VcbmNvbnN0IGh0bWxDb250ZW50PWA8ZGl2IGlkPVwiaGVhZGVyXCI+XG48ZGl2PkJhY2s8L2Rpdj5cbjxoMT5Qcm9qZWN0IE5hbWU8L2gxPlxuPGRpdj5SZW5hbWU8L2Rpdj5cbjwvZGl2PlxuPGRpdiBjbGFzcz1cImNyZWF0ZS1idXR0b25cIj5DcmVhdGUgTmV3IFRhc2s8L2Rpdj5cbjx1bCBpZD1cInRhc2stbGlzdFwiPlxuPGxpIGNsYXNzPVwidGFza1wiPlxuICA8ZGl2IGNsYXNzID1cInRhc2stbWluaW1pemVcIj5ePC9kaXY+XG4gIDxkaXY+dXBkYXRlPC9kaXY+XG4gIDxkaXYgY2xhc3MgPVwidGFzay10aXRsZVwiPlRhc2sgMTwvZGl2PlxuICA8ZGl2IGNsYXNzID1cInRhc2stZGVzY1wiPk9uZSB0YXNrIGRlc2NyaXB0aW9uPC9kaXY+XG4gIDxkaXY+ZWRpdCBkZXRhaWxzPC9kaXY+XG4gIDxkaXY+YWRkaXRpb25hbCBub3RlczwvZGl2PlxuICA8ZGl2PmRlbGV0ZTwvZGl2PlxuICA8ZGl2PnByaW9yaXR5PC9kaXY+XG4gIDxkaXY+ZGVhZGxpbmU8L2Rpdj5cbiAgPGRpdj5hZGQgdG8gY2hlY2tsaXN0PC9kaXY+XG4gIDxsaSBjbGFzcyA9XCJjaGVjay1saXN0XCI+XG4gICAgPHVsPmNoZWNrMTwvdWw+XG4gICAgPHVsPmNoZWNrMjwvdWw+XG4gIDwvbGk+XG48L2xpPlxuPC91bD5gO1xuXG4vL3VzZSB0aGUgY3VycmVudCBwcm9qZWN0IHRvIGFzc2VtYmxlIGFuIGh0bWwgcGFnZVxuY29uc3QgbG9hZFByb2plY3QgPSAoY29udGVudCwgcHJvamVjdCkgPT57XG4gIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgLy90b3AgZWxlbWVudCBjb250YWluZXJcbiAgY29uc3QgdG9wQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRvcENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Byb2plY3QtaW5mbycpO1xuXG4gIC8vYmFjayBidXR0b25cbiAgY29uc3QgYmFja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGJhY2tlci5pbm5lclRleHQgPSAnQmFjayB0byBIb21lJztcbiAgYmFja2VyLmNsYXNzTGlzdC5hZGQoJ2JhY2stYnV0dG9uJyk7XG4gIHRvcENvbnRhaW5lci5hcHBlbmRDaGlsZChiYWNrZXIpO1xuICBiYWNrZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICBsb2FkSG9tZShjb250ZW50KTtcbiAgICBzdG9yZVByb2plY3RMaXN0KCk7XG4gIH0pXG5cbiAgLy9oMVxuICBjb25zdCBoMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJyk7XG4gIGgxLmlubmVyVGV4dCA9IHByb2plY3QubmFtZTtcbiAgdG9wQ29udGFpbmVyLmFwcGVuZENoaWxkKGgxKTtcblxuICAvL3JlbmFtZSBidXR0b25cbiAgY29uc3QgcHJvamVjdE5hbWVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHByb2plY3ROYW1lci5pbm5lclRleHQgPSAnUmVuYW1lIFByb2plY3QnO1xuICBwcm9qZWN0TmFtZXIuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1yZW5hbWUnKTtcbiAgdG9wQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3ROYW1lcik7XG4gIC8vdG9kbzogYWRkIGV2ZW50IGxpc3RlbmVyIHRvIHJlbmFtZSBwcm9qZWN0XG5cbiAgY29udGVudC5hcHBlbmRDaGlsZCh0b3BDb250YWluZXIpO1xuXG4gIC8vY3JlYXRlIGJ1dHRvblxuICBjb25zdCBjcmVhdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGNyZWF0ZXIuaW5uZXJUZXh0ID0gJ0NyZWF0ZSBOZXcgVGFzayc7XG4gIGNyZWF0ZXIuY2xhc3NMaXN0LmFkZCgnY3JlYXRlLWJ1dHRvbicpO1xuICBjb250ZW50LmFwcGVuZENoaWxkKGNyZWF0ZXIpO1xuICBjcmVhdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICBwcm9qZWN0LmFkZFRhc2soKTtcbiAgICBzdG9yZVByb2plY3RMaXN0KCk7XG4gICAgbG9hZFByb2plY3QoY29udGVudCwgcHJvamVjdCk7XG4gIH0pO1xuXG4gIC8vdWxcbiAgY29uc3QgdUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICB1TGlzdC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Rhc2stbGlzdCcpO1xuICBjb250ZW50LmFwcGVuZENoaWxkKHVMaXN0KTtcblxuICAvL2xpIGVsZW1lbnRzXG4gIGNvbnN0IHRhc2tMaXN0ID0gcHJvamVjdC50YXNrTGlzdDtcbiAgLy9jb25zb2xlLmxvZyhwcm9qZWN0TGlzdCk7XG4gIHRhc2tMaXN0LmZvckVhY2godCA9PiB7XG4gICAgLy9saSBlbGVtZW50XG4gICAgY29uc3Qgb3V0ZXJJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBvdXRlckl0ZW0uYXBwZW5kQ2hpbGQoY3JlYXRlTWluaVRhc2tQYW5lKHQsIG91dGVySXRlbSkpO1xuXG4gICAgLy9hcHBlbmQgdG8gbGlzdFxuICAgIHVMaXN0LmFwcGVuZENoaWxkKG91dGVySXRlbSk7XG4gIH0pO1xuXG4gIC8vYXBwZW5kIGxpc3QgdG8gY29udGVudFxuICBjb250ZW50LmFwcGVuZENoaWxkKHVMaXN0KTtcbn1cblxuY29uc3QgY3JlYXRlTWluaVRhc2tQYW5lID0gKHRhc2ssIGVsZW0pPT57XG4gIGNvbnN0IGlubmVySXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpbm5lckl0ZW0uY2xhc3NMaXN0LmFkZCgnbWluaS10YXNrJyk7XG5cbiAgLy90aXRsZVxuICBjb25zdCB0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdFRpdGxlLmNsYXNzTGlzdC5hZGQoJ21pbmktdGFzay10aXRsZScpO1xuICB0VGl0bGUuaW5uZXJUZXh0ID0gdGFzay50aXRsZTtcbiAgaW5uZXJJdGVtLmFwcGVuZCh0VGl0bGUpO1xuXG4gIC8vZHVlIGRhdGVcbiAgY29uc3QgdERhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdERhdGUuY2xhc3NMaXN0LmFkZCgnbWluaS10YXNrLWRhdGUnKTtcbiAgdERhdGUuaW5uZXJUZXh0ID0gdGFzay5kdWVEYXRlO1xuICBpbm5lckl0ZW0uYXBwZW5kKHREYXRlKTtcblxuICAvL2V4cGFuZFxuICBjb25zdCBleHBhbmRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBleHBhbmRlci5jbGFzc0xpc3QuYWRkKCdtaW5pLXRhc2stZXhwYW5kJyk7XG4gIGV4cGFuZGVyLmlubmVyVGV4dCA9ICc+JztcbiAgaW5uZXJJdGVtLmFwcGVuZChleHBhbmRlcik7XG4gIGV4cGFuZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICBlbGVtLmlubmVySFRNTCA9ICcnO1xuICAgIGVsZW0uYXBwZW5kQ2hpbGQoY3JlYXRlRnVsbFRhc2tQYW5lKHRhc2ssIGVsZW0pKTtcbiAgfSk7XG5cbiAgLy9zZXQgcHJpb3JpdHkgY29sb3JcbiAgaW5uZXJJdGVtLmNsYXNzTGlzdC5hZGQocHJpb3JpdHlDb2xvcih0YXNrLnByaW9yaXR5KSk7XG5cbiAgcmV0dXJuIGlubmVySXRlbTtcbn1cblxuY29uc3QgY3JlYXRlRnVsbFRhc2tQYW5lID0gKHRhc2ssIGVsZW0pPT57XG4gIGNvbnN0IGlubmVySXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpbm5lckl0ZW0uY2xhc3NMaXN0LmFkZCgnZnVsbC10YXNrJyk7XG5cbiAgLy90aXRsZVxuICBjb25zdCB0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdFRpdGxlLmNsYXNzTGlzdC5hZGQoJ2Z1bGwtdGFzay10aXRsZScpO1xuICB0VGl0bGUuaW5uZXJUZXh0ID0gdGFzay50aXRsZTtcbiAgaW5uZXJJdGVtLmFwcGVuZCh0VGl0bGUpO1xuXG4gIC8vc2hyaW5rXG4gIGNvbnN0IHNocmlua2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHNocmlua2VyLmNsYXNzTGlzdC5hZGQoJ21pbmktdGFzay1leHBhbmQnKTtcbiAgc2hyaW5rZXIuaW5uZXJUZXh0ID0gJ14nO1xuICBpbm5lckl0ZW0uYXBwZW5kKHNocmlua2VyKTtcbiAgc2hyaW5rZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgIGVsZW0uaW5uZXJIVE1MID0gJyc7XG4gICAgZWxlbS5hcHBlbmRDaGlsZChjcmVhdGVNaW5pVGFza1BhbmUodGFzaywgZWxlbSkpO1xuICB9KTtcbiAgcmV0dXJuIGlubmVySXRlbTtcbn1cblxuY29uc3QgcHJpb3JpdHlDb2xvciA9IChwcmlvcml0eSk9PntcbiAgc3dpdGNoKHByaW9yaXR5KXtcbiAgICBjYXNlICdoaWdoJzogXG4gICAgICByZXR1cm4gJ2hpZ2gtcHJpb3JpdHknO1xuICAgIGNhc2UgJ21lZGl1bSc6XG4gICAgICByZXR1cm4gJ21lZGl1bS1wcmlvcml0eSc7XG4gICAgY2FzZSAnbG93JzpcbiAgICAgIHJldHVybiAnbG93LXByaW9yaXR5JztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICduby1wcmlvcml0eSc7XG4gIH1cbn1cblxuZXhwb3J0IHtsb2FkUHJvamVjdH07IiwiaW1wb3J0IHsgcmVzZXRTdG9yYWdlLCBnZXRQcm9qZWN0TGlzdCwgY3JlYXRlTmV3UHJvamVjdCwgZGVsZXRlUHJvamVjdH0gZnJvbSBcIi4vc3RvcmFnZU1vZHVsZVwiO1xuaW1wb3J0IHsgbG9hZFByb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0UGFnZU1vZHVsZVwiO1xuXG4vL21vZHVsZSBmb3IgZGlzcGxheWluZyBwcm9qZWN0cyBvbiBhIG1haW4gcGFnZVxuXG4vL3NhbWVwbGUgaHRtbCBzdHJ1Y3R1cmVcbmNvbnN0IGh0bWxDb250ZW50PWA8aDE+VE9ETyBMaXN0czwvaDE+XG48ZGl2IGNsYXNzPVwiY3JlYXRlLWJ1dHRvblwiPkNyZWF0ZSBOZXcgUHJvamVjdDwvZGl2PlxuPHVsIGlkPVwicHJvamVjdC1saXN0XCI+XG4gIDxsaSBjbGFzcz1cInByb2plY3RcIj5cbiAgICA8ZGl2IGNsYXNzID1cInByb2plY3QtdGl0bGVcIj5Qcm9qZWN0IDE8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzID1cInByb2plY3QtY291bnRlclwiPjIyIHRvZG9zPC9kaXY+XG4gICAgPGRpdiBjbGFzcyA9XCJwcm9qZWN0LXZpZXdcIj5WaWV3PC9kaXY+XG4gICAgPGRpdiBjbGFzcyA9XCJwcm9qZWN0LWRlbGV0ZVwiPkRlbGV0ZTwvZGl2PlxuICA8L2xpPlxuICA8bGkgY2xhc3M9XCJwcm9qZWN0XCI+XG4gICAgPGRpdiBjbGFzcyA9XCJwcm9qZWN0LXRpdGxlXCI+UHJvamVjdCAxPC9kaXY+XG4gICAgPGRpdiBjbGFzcyA9XCJwcm9qZWN0LWNvdW50ZXJcIj4yMiB0b2RvczwvZGl2PlxuICAgIDxkaXYgY2xhc3MgPVwicHJvamVjdC12aWV3XCI+VmlldzwvZGl2PlxuICAgIDxkaXYgY2xhc3MgPVwicHJvamVjdC1kZWxldGVcIj5EZWxldGU8L2Rpdj5cbiAgPC9saT5cbiAgPGxpIGNsYXNzPVwicHJvamVjdFwiPlxuICAgIDxkaXYgY2xhc3MgPVwicHJvamVjdC10aXRsZVwiPlByb2plY3QgMTwvZGl2PlxuICAgIDxkaXYgY2xhc3MgPVwicHJvamVjdC1jb3VudGVyXCI+MjIgdG9kb3M8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzID1cInByb2plY3Qtdmlld1wiPlZpZXc8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzID1cInByb2plY3QtZGVsZXRlXCI+RGVsZXRlPC9kaXY+XG4gIDwvbGk+XG4gIDxsaSBjbGFzcz1cInByb2plY3RcIj5cbiAgICA8ZGl2IGNsYXNzID1cInByb2plY3QtdGl0bGVcIj5Qcm9qZWN0IDE8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzID1cInByb2plY3QtY291bnRlclwiPjIyIHRvZG9zPC9kaXY+XG4gICAgPGRpdiBjbGFzcyA9XCJwcm9qZWN0LXZpZXdcIj5WaWV3PC9kaXY+XG4gICAgPGRpdiBjbGFzcyA9XCJwcm9qZWN0LWRlbGV0ZVwiPkRlbGV0ZTwvZGl2PlxuICA8L2xpPlxuPC91bD5gO1xuXG4vL2dldCB0aGUgY3VycmVudCBwcm9qZWN0IGxpc3QgYW5kIGFzc2VtYmxlIGFuIGh0bWwgcGFnZVxuY29uc3QgbG9hZEhvbWUgPSBjb250ZW50ID0+e1xuICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAvL2gxXG4gICAgY29uc3QgaDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICAgIGgxLmlubmVyVGV4dCA9ICdUT0RPIExpc3RzJztcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGgxKTtcblxuICAgIC8vYnV0dG9uXG4gICAgY29uc3QgY3JlYXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNyZWF0ZXIuaW5uZXJUZXh0ID0gJ0NyZWF0ZSBOZXcgUHJvamVjdCc7XG4gICAgY3JlYXRlci5jbGFzc0xpc3QuYWRkKCdjcmVhdGUtYnV0dG9uJyk7XG4gICAgY29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVyKTtcbiAgICBjcmVhdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgIGNyZWF0ZU5ld1Byb2plY3QoKTtcbiAgICAgIGxvYWRIb21lKGNvbnRlbnQpO1xuICAgIH0pO1xuXG4gICAgLy91bFxuICAgIGNvbnN0IHVMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICB1TGlzdC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Byb2plY3QtbGlzdCcpO1xuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodUxpc3QpO1xuXG4gICAgLy9saSBlbGVtZW50c1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZ2V0UHJvamVjdExpc3QoKTtcbiAgICAvL2NvbnNvbGUubG9nKHByb2plY3RMaXN0KTtcbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKHAgPT4ge1xuICAgICAgLy9jb25zb2xlLmxvZyhwKTtcbiAgICAgIC8vbGkgZWxlbWVudFxuICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcblxuICAgICAgLy90aXRsZVxuICAgICAgY29uc3QgcFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwVGl0bGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdC10aXRsZScpO1xuICAgICAgcFRpdGxlLmlubmVyVGV4dCA9IHAubmFtZTtcbiAgICAgIGl0ZW0uYXBwZW5kKHBUaXRsZSk7XG5cbiAgICAgIC8vdGFzayBjb3VudFxuICAgICAgY29uc3QgcFRhc2tzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIHBUYXNrcy5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWNvdW50ZXInKTtcbiAgICAgIHBUYXNrcy5pbm5lclRleHQgPSBgJHtwLnRhc2tMaXN0Lmxlbmd0aH0gdG9kb3NgO1xuICAgICAgaXRlbS5hcHBlbmQocFRhc2tzKTtcblxuICAgICAgLy92aWV3XG4gICAgICBjb25zdCBwVmlldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgICBwVmlldy5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LXZpZXcnKTtcbiAgICAgIHBWaWV3LmlubmVyVGV4dCA9ICdWaWV3JztcbiAgICAgIGl0ZW0uYXBwZW5kKHBWaWV3KTtcbiAgICAgIHBWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntcbiAgICAgICAgbG9hZFByb2plY3QoY29udGVudCwgcCk7XG4gICAgICB9KTtcblxuICAgICAgLy9kZWxldGUgXG4gICAgICBjb25zdCBwRGVsZXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcbiAgICAgIHBEZWxldGUuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1kZWxldGUnKTtcbiAgICAgIHBEZWxldGUuaW5uZXJUZXh0ID0gJ0RlbGV0ZSc7XG4gICAgICBpdGVtLmFwcGVuZChwRGVsZXRlKTtcbiAgICAgIHBEZWxldGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBkZWxldGVQcm9qZWN0KHApO1xuICAgICAgICBsb2FkSG9tZShjb250ZW50KTtcbiAgICAgIH0pO1xuXG4gICAgICAvL2FwcGVuZCB0byBsaXN0XG4gICAgICB1TGlzdC5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICB9KTtcblxuICAgIC8vYXBwZW5kIGxpc3QgdG8gY29udGVudFxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodUxpc3QpO1xuXG4gICAgLy9hIHJlc2V0IGJ1dHRvblxuICAgIGNvbnN0IHJlc2V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICAgIHJlc2V0ZXIuY2xhc3NMaXN0LmFkZCgnaG9tZS1yZXNldCcpO1xuICAgIHJlc2V0ZXIuaW5uZXJUZXh0ID0gJ1Jlc2V0IGFsbCc7XG4gICAgY29udGVudC5hcHBlbmQocmVzZXRlcik7XG4gICAgcmVzZXRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICByZXNldFN0b3JhZ2UoKTtcbiAgICAgIGNyZWF0ZU5ld1Byb2plY3QoKTtcbiAgICAgIGxvYWRIb21lKGNvbnRlbnQpO1xuICAgIH0pXG59XG5cbmV4cG9ydCB7bG9hZEhvbWV9OyIsImltcG9ydCB7bG9hZEhvbWV9IGZyb20gXCIuL2hvbWVQYWdlTW9kdWxlLmpzXCI7XG5pbXBvcnQge3Byb2plY3RGYWN0b3J5fSBmcm9tIFwiLi9wcm9qZWN0T2JqTW9kdWxlLmpzXCI7XG5pbXBvcnQge2xvYWRQcm9qZWN0fSBmcm9tIFwiLi9wcm9qZWN0UGFnZU1vZHVsZS5qc1wiO1xuaW1wb3J0IHt0YXNrRmFjdG9yeX0gZnJvbSBcIi4vdGFza09iak1vZHVsZVwiO1xuaW1wb3J0IHtsb2FkUHJvamVjdExpc3QsIHN0b3JlUHJvamVjdExpc3QsIHJlc2V0U3RvcmFnZX0gZnJvbSBcIi4vc3RvcmFnZU1vZHVsZVwiXG5cbi8vdGVzdCB0aGF0IHdlYnBhY2sgd29ya3NcbmNvbnNvbGUubG9nKCd3ZWJwYWNrIGNvbXBpbGVkIHRvIG1haW4uanMnKTtcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50Jyk7XG5cbi8vcmVzZXRTdG9yYWdlKCk7IC8vdG9kbzogcmVtb3ZlIHRoaXMgcmVzZXRcbmxvYWRQcm9qZWN0TGlzdCgpO1xuXG5sb2FkSG9tZShjb250ZW50KTtcbmNvbnNvbGUubG9nKCdlbmQgb2YgaW5kZXgnKTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==